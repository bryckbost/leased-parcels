<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Leaflet</title>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
 	<script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
 	<script src="../parcels.js"></script>
 	<style>
 		html,
 		body {
 			height: 100%;
 			width: 100%;
 		}
 		#map { 
 			height: 100%; 
 		}
 	</style>
 	<script src="js/l.control.geosearch.js"></script>
    <script src="js/l.geosearch.provider.google.js"></script>
    <link rel="stylesheet" href="css/l.geosearch.css" />
</head>
<body>
	 <div id="map"></div>
	 <script type="text/javascript">
window.onload = init;
	 	
function init() {
	var map = L.map('map').setView([43.03, -85.55], 10);
		L.tileLayer('http://{s}.tile.cloudmade.com/e9120944ca2c4bbabe31fea8759dc030/997/256/{z}/{x}/{y}.png', {
    	attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://cloudmade.com">CloudMade</a>',
    	maxZoom: 18
	}).addTo(map);

	L.geoJson(parcels, {
		onEachFeature: bindInfo
	}).addTo(map);
	
	new L.Control.GeoSearch({
        provider: new L.GeoSearch.Provider.Google()
    }).addTo(map);

}

function bindInfo(feature, layer) {
	layer.bindPopup('Address: ' + feature.properties.Address + '<br>' +
					'City: ' + 	  feature.properties.City
	);
} 	
	 </script>
</body>
</html>
